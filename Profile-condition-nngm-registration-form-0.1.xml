<?xml version="1.0" encoding="utf-8"?>
<StructureDefinition xmlns="http://hl7.org/fhir">
  <url value="http://uk-koeln.de/fhir/StructureDefinition/Condition/nNGM" />
  <version value="0.1" />
  <name value="ConditionNngm" />
  <title value="nNGM: Profil - Condition - Erkrankung" />
  <status value="active" />
  <experimental value="true" />
  <fhirVersion value="4.0.0" />
  <kind value="resource" />
  <abstract value="false" />
  <type value="Condition" />
  <baseDefinition value="http://hl7.org/fhir/StructureDefinition/Condition" />
  <derivation value="constraint" />
  <differential>
    <element id="Condition.clinicalStatus">
      <path value="Condition.clinicalStatus" />
      <definition value="für nNGM:&#xD;&#xA;active = Ersterkrankung&#xD;&#xA;recurrence = Rezidiv" />
      <min value="1" />
      <mustSupport value="true" />
    </element>
    <element id="Condition.verificationStatus">
      <path value="Condition.verificationStatus" />
      <min value="1" />
      <fixedCodeableConcept>
        <text value="confirmed" />
      </fixedCodeableConcept>
      <mustSupport value="true" />
    </element>
    <element id="Condition.severity">
      <path value="Condition.severity" />
      <mustSupport value="true" />
      <binding>
        <strength value="required" />
        <valueSet value="http://uk-koeln.de/fhir/ValueSet/nngm/behandelbarkeit" />
      </binding>
    </element>
    <element id="Condition.severity.coding">
      <path value="Condition.severity.coding" />
      <mustSupport value="true" />
    </element>
    <element id="Condition.severity.coding.system">
      <path value="Condition.severity.coding.system" />
      <min value="1" />
      <mustSupport value="true" />
    </element>
    <element id="Condition.severity.coding.code">
      <path value="Condition.severity.coding.code" />
      <min value="1" />
      <mustSupport value="true" />
    </element>
    <element id="Condition.code">
      <path value="Condition.code" />
      <min value="1" />
      <mustSupport value="true" />
    </element>
    <element id="Condition.code.coding">
      <path value="Condition.code.coding" />
      <slicing>
        <discriminator>
          <type value="value" />
          <path value="system" />
        </discriminator>
        <rules value="open" />
      </slicing>
    </element>
    <element id="Condition.code.coding:ICD-10-GM">
      <path value="Condition.code.coding" />
      <sliceName value="ICD-10-GM" />
      <binding>
        <strength value="required" />
        <valueSet value="http://fhir.de/CodeSystem/dimdi/icd-10-gm" />
      </binding>
    </element>
    <element id="Condition.code.coding:ICD-10-GM.extension">
      <path value="Condition.code.coding.extension" />
      <slicing>
        <discriminator>
          <type value="value" />
          <path value="url" />
        </discriminator>
        <rules value="open" />
      </slicing>
    </element>
    <element id="Condition.code.coding:ICD-10-GM.extension:Haupt-Code_Kreuz-Code">
      <path value="Condition.code.coding.extension" />
      <sliceName value="Haupt-Code_Kreuz-Code" />
      <min value="0" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="http://fhir.de/StructureDefinition/icd-10-gm-haupt-kreuz" />
      </type>
    </element>
    <element id="Condition.code.coding:ICD-10-GM.extension:Stern-Code">
      <path value="Condition.code.coding.extension" />
      <sliceName value="Stern-Code" />
      <short value="Stern-Code" />
      <min value="0" />
      <max value="*" />
      <type>
        <code value="Extension" />
        <profile value="http://fhir.de/StructureDefinition/icd-10-gm-stern" />
      </type>
    </element>
    <element id="Condition.code.coding:ICD-10-GM.extension:Ausrufezeichen-Code">
      <path value="Condition.code.coding.extension" />
      <sliceName value="Ausrufezeichen-Code" />
      <short value="Ausrufezeichen-Code" />
      <min value="0" />
      <max value="*" />
      <type>
        <code value="Extension" />
        <profile value="http://fhir.de/StructureDefinition/icd-10-gm-ausrufezeichen" />
      </type>
    </element>
    <element id="Condition.code.coding:ICD-10-GM.system">
      <path value="Condition.code.coding.system" />
      <short value="ICD-10-GM" />
      <min value="1" />
      <fixedUri value="http://fhir.de/CodeSystem/dimdi/icd-10-gm" />
      <mustSupport value="true" />
    </element>
    <element id="Condition.code.coding:ICD-10-GM.version">
      <path value="Condition.code.coding.version" />
      <short value="Die Jahresversion von ICD-10-GM. Angegeben wird immer die vierstellige Jahreszahl (z.B. &quot;2017&quot;)" />
      <definition value="Bie Verwendung von ICD-10-GM ist die Angabe der Version zwingend erforderlich.&#xD;&#xA;Hierdurch wird der Tatsache Rechnung getragen, dass jede der jährlich neu erscheinenden Fassung von ICD-10-GM ein neues Codesystem darstellt." />
      <min value="1" />
      <mustSupport value="true" />
    </element>
    <element id="Condition.code.coding:ICD-10-GM.code">
      <path value="Condition.code.coding.code" />
      <short value="Der ICD-10-Code" />
      <definition value="Der ICD-10-Code, einschließlich verbundener Codes (Kreuz-Stern-Notation, Ausrufezeichen-Notation. Vgl. hierzu auch die Dokumentation zu iCD in der FHIR-Spezifikation.&#xD;&#xA;Die Einzelbestandteile von postkoordinierten Codes (einzelne ICD-10-GM-Codes) können über die im Profil definierten Extensions einzeln dokumentiert werden. Die Angabe des postkoordinierten Codes ist in diesem Fall dennoch zwingend.&#xD;&#xA;&#xD;&#xA;Seitenlokalisaion und Diagnosesichrheit sollten, soweit vorhanden, in den Elementen bodySite bzw. clinicalStatus/verificationStatus codiert werden. Für die Diagnosesicherkeit kann zusätzlich auch die entsprechende Extension verwendet werden. Die Angabe von clinicalStatus und/oder verificationStatus ist jedoch in diesen Fällen zwingend, da es sich hierbei um modifizierende Angaben (modyfiers) handelt." />
      <min value="1" />
      <mustSupport value="true" />
    </element>
    <element id="Condition.bodySite.extension">
      <path value="Condition.bodySite.extension" />
      <slicing>
        <discriminator>
          <type value="value" />
          <path value="url" />
        </discriminator>
        <rules value="open" />
      </slicing>
    </element>
    <element id="Condition.bodySite.extension:Lokalisations-Referenz">
      <path value="Condition.bodySite.extension" />
      <sliceName value="Lokalisations-Referenz" />
      <type>
        <code value="Extension" />
        <profile value="http://hl7.org/fhir/StructureDefinition/bodySite" />
      </type>
    </element>
    <element id="Condition.bodySite.extension:Lokalisations-Referenz.value[x]">
      <path value="Condition.bodySite.extension.value[x]" />
      <slicing>
        <rules value="open" />
      </slicing>
    </element>
    <element id="Condition.bodySite.coding">
      <path value="Condition.bodySite.coding" />
      <slicing>
        <discriminator>
          <type value="value" />
          <path value="system" />
        </discriminator>
        <rules value="open" />
      </slicing>
    </element>
    <element id="Condition.bodySite.coding:ICD-10-GM-Seitenlokalisation">
      <path value="Condition.bodySite.coding" />
      <sliceName value="ICD-10-GM-Seitenlokalisation" />
      <max value="1" />
      <binding>
        <strength value="required" />
        <valueSet value="http://fhir.de/CodeSystem/kbv/s_icd_seitenlokalisation" />
      </binding>
    </element>
    <element id="Condition.bodySite.coding:ICD-10-GM-Seitenlokalisation.system">
      <path value="Condition.bodySite.coding.system" />
      <min value="1" />
      <fixedUri value="http://fhir.de/CodeSystem/kbv/s_icd_seitenlokalisation" />
    </element>
    <element id="Condition.bodySite.coding:ICD-10-GM-Seitenlokalisation.code">
      <path value="Condition.bodySite.coding.code" />
      <min value="1" />
    </element>
    <element id="Condition.subject.reference">
      <path value="Condition.subject.reference" />
      <min value="1" />
      <mustSupport value="true" />
    </element>
    <element id="Condition.onset[x]">
      <path value="Condition.onset[x]" />
      <type>
        <code value="dateTime" />
      </type>
      <mustSupport value="true" />
    </element>
  </differential>
</StructureDefinition>